#AUTOGENERATED! DO NOT EDIT! File to edit: dev/01_script.ipynb (unless otherwise specified).

__all__ = ['run_command']

#Cell
import subprocess
import shlex

#Cell
def run_command(command):
    "Run shell command as an external process"
    if type(command) == str: command = shlex.split(command)
    elif type(command) == list: command = command
    else: raise AssertionError("Command should be string or list")
    process = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    while True:
        output = process.stdout.readline()
        if output == b'' and process.poll() is not None:
            break
        if output:
            print (output.decode().strip())
    rc = process.poll()
    if rc != 0:
        stdout, stderr =  process.communicate()
        print(stderr.decode())
        return "Failure"
    else:
        stdout, stderr =  process.communicate()
        print(stderr.decode())
        return "Success"